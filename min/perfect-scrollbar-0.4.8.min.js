/*! perfect-scrollbar - v0.4.8
* http://noraesae.github.com/perfect-scrollbar/
* Copyright (c) 2014 Hyeonje Jun; Licensed MIT */
"use strict";(function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)})(function(e){var o={wheelSpeed:10,wheelPropagation:!1,minScrollbarLength:null,useBothWheelAxes:!1,useKeyboard:!0,suppressScrollX:!1,suppressScrollY:!1,scrollXMarginOffset:0,scrollYMarginOffset:0},t=function(){var e=0;return function(){var o=e;return e+=1,".perfect-scrollbar-"+o}}();e.fn.perfectScrollbar=function(n,r){return this.each(function(){var l=e.extend(!0,{},o),a=e(this);if("object"==typeof n?e.extend(!0,l,n):r=n,"update"===r)return a.data("perfect-scrollbar-update")&&a.data("perfect-scrollbar-update")(),a;if("destroy"===r)return a.data("perfect-scrollbar-destroy")&&a.data("perfect-scrollbar-destroy")(),a;if(a.data("perfect-scrollbar"))return a.data("perfect-scrollbar");a.addClass("ps-container");var s,c,i,u,p,d,f,h,v,b,g=e("<div class='ps-scrollbar-x-rail'></div>").appendTo(a),m=e("<div class='ps-scrollbar-y-rail'></div>").appendTo(a),w=e("<div class='ps-scrollbar-x'></div>").appendTo(g),T=e("<div class='ps-scrollbar-y'></div>").appendTo(m),L=parseInt(g.css("bottom"),10),y=parseInt(m.css("right"),10),S=t(),C=function(e,o){var t=e+o,n=u-v;b=0>t?0:t>n?n:t;var r=parseInt(b*(d-u)/(u-v),10);a.scrollTop(r),g.css({bottom:L-r})},I=function(e,o){var t=e+o,n=i-f;h=0>t?0:t>n?n:t;var r=parseInt(h*(p-i)/(i-f),10);a.scrollLeft(r),m.css({right:y-r})},X=function(e){return l.minScrollbarLength&&(e=Math.max(e,l.minScrollbarLength)),e},Y=function(){g.css({left:a.scrollLeft(),bottom:L-a.scrollTop(),width:i,display:s?"inherit":"none"}),m.css({top:a.scrollTop(),right:y-a.scrollLeft(),height:u,display:c?"inherit":"none"}),w.css({left:h,width:f}),T.css({top:b,height:v})},k=function(){i=a.width(),u=a.height(),p=a.prop("scrollWidth"),d=a.prop("scrollHeight"),!l.suppressScrollX&&p>i+l.scrollXMarginOffset?(s=!0,f=X(parseInt(i*i/p,10)),h=parseInt(a.scrollLeft()*(i-f)/(p-i),10)):(s=!1,f=0,h=0,a.scrollLeft(0)),!l.suppressScrollY&&d>u+l.scrollYMarginOffset?(c=!0,v=X(parseInt(u*u/d,10)),b=parseInt(a.scrollTop()*(u-v)/(d-u),10)):(c=!1,v=0,b=0,a.scrollTop(0)),b>=u-v&&(b=u-v),h>=i-f&&(h=i-f),Y()},x=function(){var o,t;w.bind("mousedown"+S,function(e){t=e.pageX,o=w.position().left,g.addClass("in-scrolling"),e.stopPropagation(),e.preventDefault()}),e(document).bind("mousemove"+S,function(e){g.hasClass("in-scrolling")&&(I(o,e.pageX-t),e.stopPropagation(),e.preventDefault())}),e(document).bind("mouseup"+S,function(){g.hasClass("in-scrolling")&&g.removeClass("in-scrolling")}),o=t=null},D=function(){var o,t;T.bind("mousedown"+S,function(e){t=e.pageY,o=T.position().top,m.addClass("in-scrolling"),e.stopPropagation(),e.preventDefault()}),e(document).bind("mousemove"+S,function(e){m.hasClass("in-scrolling")&&(C(o,e.pageY-t),e.stopPropagation(),e.preventDefault())}),e(document).bind("mouseup"+S,function(){m.hasClass("in-scrolling")&&m.removeClass("in-scrolling")}),o=t=null},P=function(e,o){var t=a.scrollTop();if(0===e){if(!c)return!1;if(0===t&&o>0||t>=d-u&&0>o)return!l.wheelPropagation}var n=a.scrollLeft();if(0===o){if(!s)return!1;if(0===n&&0>e||n>=p-i&&e>0)return!l.wheelPropagation}return!0},M=function(){var o=!1;a.bind("mousewheel"+S,function(t,n,r,i){for(var u=t.deltaX?t.deltaX/10:r,p=t.deltaY?t.deltaY/10:i,d=e(t.target);!d.hasClass("ps-container");)d=d.parent();return d[0]!=a[0]&&d.scrollTop()!=d.data("last-scroll-top")?(d.data("last-scroll-top",d.scrollTop()),void 0):(l.useBothWheelAxes?c&&!s?p?a.scrollTop(a.scrollTop()-p*l.wheelSpeed):a.scrollTop(a.scrollTop()+u*l.wheelSpeed):s&&!c&&(u?a.scrollLeft(a.scrollLeft()+u*l.wheelSpeed):a.scrollLeft(a.scrollLeft()-p*l.wheelSpeed)):(a.scrollTop(a.scrollTop()-p*l.wheelSpeed),a.scrollLeft(a.scrollLeft()+u*l.wheelSpeed)),k(),o=P(u,p),o&&t.preventDefault(),void 0)}),a.bind("MozMousePixelScroll"+S,function(e){o&&e.preventDefault()})},E=function(){var o=!1;a.bind("mouseenter"+S,function(){o=!0}),a.bind("mouseleave"+S,function(){o=!1});var t=!1;e(document).bind("keydown"+S,function(n){if(o&&!e(document.activeElement).is(":input,[contenteditable]")){var r=0,s=0;switch(n.which){case 37:r=-3;break;case 38:s=3;break;case 39:r=3;break;case 40:s=-3;break;case 33:s=9;break;case 32:case 34:s=-9;break;case 35:s=-u;break;case 36:s=u;break;default:return}a.scrollTop(a.scrollTop()-s*l.wheelSpeed),a.scrollLeft(a.scrollLeft()+r*l.wheelSpeed),t=P(r,s),t&&n.preventDefault()}})},O=function(){var e=function(e){e.stopPropagation()};T.bind("click"+S,e),m.bind("click"+S,function(e){var o=parseInt(v/2,10),t=e.pageY-m.offset().top-o,n=u-v,r=t/n;0>r?r=0:r>1&&(r=1),a.scrollTop((d-u)*r)}),w.bind("click"+S,e),g.bind("click"+S,function(e){var o=parseInt(f/2,10),t=e.pageX-g.offset().left-o,n=i-f,r=t/n;0>r?r=0:r>1&&(r=1),a.scrollLeft((p-i)*r)})},j=function(){var o=function(e,o){a.scrollTop(a.scrollTop()-o),a.scrollLeft(a.scrollLeft()-e),k()},t={},n=0,r={},l=null,s=!1;e(window).bind("touchstart"+S,function(){s=!0}),e(window).bind("touchend"+S,function(){s=!1}),a.bind("touchstart"+S,function(e){var o=e.originalEvent.targetTouches[0];t.pageX=o.pageX,t.pageY=o.pageY,n=(new Date).getTime(),null!==l&&clearInterval(l),e.stopPropagation()}),a.bind("touchmove"+S,function(e){if(!s&&1===e.originalEvent.targetTouches.length){var l=e.originalEvent.targetTouches[0],a={};a.pageX=l.pageX,a.pageY=l.pageY;var c=a.pageX-t.pageX,i=a.pageY-t.pageY;o(c,i),t=a;var u=(new Date).getTime(),p=u-n;p>0&&(r.x=c/p,r.y=i/p,n=u),e.preventDefault()}}),a.bind("touchend"+S,function(){clearInterval(l),l=setInterval(function(){return.01>Math.abs(r.x)&&.01>Math.abs(r.y)?(clearInterval(l),void 0):(o(30*r.x,30*r.y),r.x*=.8,r.y*=.8,void 0)},10)})},A=function(){a.bind("scroll"+S,function(){k()})},W=function(){a.unbind(S),e(window).unbind(S),e(document).unbind(S),a.data("perfect-scrollbar",null),a.data("perfect-scrollbar-update",null),a.data("perfect-scrollbar-destroy",null),w.remove(),T.remove(),g.remove(),m.remove(),w=T=i=u=p=d=f=h=L=v=b=y=null},B=function(o){a.addClass("ie").addClass("ie"+o);var t=function(){var o=function(){e(this).addClass("hover")},t=function(){e(this).removeClass("hover")};a.bind("mouseenter"+S,o).bind("mouseleave"+S,t),g.bind("mouseenter"+S,o).bind("mouseleave"+S,t),m.bind("mouseenter"+S,o).bind("mouseleave"+S,t),w.bind("mouseenter"+S,o).bind("mouseleave"+S,t),T.bind("mouseenter"+S,o).bind("mouseleave"+S,t)},n=function(){Y=function(){w.css({left:h+a.scrollLeft(),bottom:L,width:f}),T.css({top:b+a.scrollTop(),right:y,height:v}),w.hide().show(),T.hide().show()}};6===o&&(t(),n())},K="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,q=function(){var e=navigator.userAgent.toLowerCase().match(/(msie) ([\w.]+)/);e&&"msie"===e[1]&&B(parseInt(e[2],10)),k(),A(),x(),D(),O(),K&&j(),a.mousewheel&&M(),l.useKeyboard&&E(),a.data("perfect-scrollbar",a),a.data("perfect-scrollbar-update",k),a.data("perfect-scrollbar-destroy",W)};return q(),a})}});